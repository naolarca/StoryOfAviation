<!DOCTYPE html>

<!-- Created by Naomie L'Archeveque-Carriere on November 9th 2022

      A personal project: A website that tells the Story Of Aviation-->
<head>
  <meta charset="utf-8"/><title>The Story Of Aviation</title>
  <meta content="The timeline of Aviation and it's evolution" name="description"/>

  <!--TODO: ENLEVER OG OU PAS-->
  <meta content="The Story Of Aviation" property="og:title"/>
  <meta content="The timeline of Aviation and it's evolution" property="og:description"/>
  <!-- TODO: CHANGER PHOTO CI-DESSOUS POUR LE TITLE DU WEBSITE THE STORY OF AVIATION -->
  <meta content="https://assets.website-files.com/5fa59418f129b3877929877d/6062c7357fef35047d7f825a_Main-sh.jpg" property="og:image"/>

  <!-- TODO: ENLEVER TWITTER -->
  <meta content="The Story Of Aviation" property="twitter:title"/>
  <meta content="The timeline of Aviation and it's evolution" property="twitter:description"/>
  <meta content="https://assets.website-files.com/5fa59418f129b3877929877d/6062c7357fef35047d7f825a_Main-sh.jpg" property="twitter:image"/>

  <!--TODO: OG-->
  <meta property="og:type" content="website"/>
  <!--TODO: TWITTER-->
  <meta content="summary_large_image" name="twitter:card"/>

  <!--TODO: RESPONSIVENESS-->
  <meta content="width=device-width, initial-scale=1" name="viewport"/>

  <!--TODO: EST-CE QUE CEUX-CI SONT NECESSAIRES-->
  <meta content="U7MIBr5TboraF7vuTnfEQcScsDz-7oRKdS42jVrghaE" name="google-site-verification"/>
  <meta content="Webflow" name="generator"/>

  <!--TODO: STYLE-->
  <link href="../assets.website-files.com/617936a2cad5af105e065401/css/sakharov.webflow.fa68179cc.css" rel="stylesheet" type="text/css"/>

  <!--TODO: JAVASCRIPT-->
  <!--[if lt IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script>
  <![endif]-->
  <script type="text/javascript">
    !function(o,c){
      var n=c.documentElement, t=" w-mod-";
      n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")
    }(window,document);
  </script>

  <!--TODO: CHANGER FAVICON (PT AVION)-->
  <link href="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af7b2006573e_favicon-32x32.png" rel="shortcut icon" type="image/x-icon"/>
  <!--TODO: CHANGER ANDROIR ICON-->
  <link href="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5aff9ab065740_android-icon-192x192.png" rel="apple-touch-icon"/>

  <!--TODO: JAVASCRIPT DONT KNOW WHAT IT DOES-->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WQM9GGLW8Y"></script>

  <script type="text/javascript">
    window.dataLayer = window.dataLayer || [];
    function gtag(){
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-WQM9GGLW8Y', {'anonymize_ip': false});
  </script>

  <style>

/* REQUETE MEDIA POUR SAFARI */
_::-webkit-full-page-media, _:future, :root .menu-link-h-item-1 {
-webkit-text-fill-color: rgb(255, 255, 255);}
_::-webkit-full-page-media, _:future, :root .menu-link-h-item-2 {
-webkit-text-fill-color: rgb(255, 255, 255);}
_::-webkit-full-page-media, _:future, :root .menu-link-h-item-3 {
-webkit-text-fill-color: rgb(255, 255, 255);}
  
  
body {
	-webkit-font-smoothing: antialiased
}  

.video-container-placeholder-1 {
  transform: translateZ(0);
}  

.video-container-placeholder-2 {
  transform: translateZ(0);
}
 
.video-container-placeholder-3 {
  transform: translateZ(0);
}

.w-embed-youtubevideo {
	background-image: none !important;
	}

@media screen and (max-width: 479px) {
.menu-link-h-item-1 {
	-webkit-text-fill-color: white;
}
.menu-link-h-item-2 {
	-webkit-text-fill-color: white;
}
.menu-link-h-item-3 {
	-webkit-text-fill-color: white;
}
.menu-link-h-item-1-p9 {
	-webkit-text-fill-color: white;
}
.menu-link-h-item-2-p9 {
	-webkit-text-fill-color: white;
}
.menu-link-h-item-3-p9 {
	-webkit-text-fill-color: white;
}  
}
  
</style>

<!--TODO: Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "../mc.yandex.ru/metrika/tag.js", "ym");

   ym(75090658, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>

  <!--TODO: YANDEX METRIKA COUNTER NO SCRIPT: IMAGE NOIR AVEC POINT BLANC-->
<noscript>
  <div>
    <img src="https://mc.yandex.ru/watch/75090658" style="position:absolute; left:-9999px;" alt="" />
  </div>
</noscript>
<!-- /Yandex.Metrika counter -->

  <!--TODO: CHANGER POUR JUSTE EN ANGLAIS-->
<script>

// le script redirigera l'utilisateur vers en/ru selon ses paramètres
// sur l'ordinateur s'il n'a pas encore choisi de langue. Fonctionnera comme
// uniquement sur la page principale, et sur tout le site.
(()=>{
  const pathname = getNormalizedPathname();
  const currentLang = getCurrentLang();
  const savedLang = getCookie('selected-lang');
  const urlStartsBlackList = ['/lib/','bio/index.html', '/stories/'];
  const urlAllowed = urlStartsBlackList.every(part=>!pathname.startsWith(part));
  const browserSettingsLang  = window.navigator.language.slice(0, 2) === "ru" ? "ru" : "en";
  
  if(urlAllowed && !savedLang && browserSettingsLang !== currentLang){
    const nextLangLocation = getSwitchedLangPath(currentLang, browserSettingsLang)
    if(nextLangLocation){
      window.location.href = nextLangLocation;
    }
    return;
  }

  function getNormalizedPathname(){
    const {pathname} = window.location;
    return pathname.endsWith('index.html') ? pathname : pathname+'/';
  }
  
  function getSwitchedLangPath(currentLang, requestedLang){
    const urlRedirectRule = getUrlRedirectRule(currentLang, requestedLang);
    
    if(!urlRedirectRule) return;
    
    const [currentLangPart, requestedLangPart] = getReplaceParts(urlRedirectRule, currentLang, requestedLang);

    const urlReplaceRegexp = new RegExp(`^${currentLangPart}`);
    
    const pathname = getNormalizedPathname();

    return pathname.replace(urlReplaceRegexp, requestedLangPart)
  }
  
  function getUrlRedirectRule(currentLang, requestedLang){
    const pathname = getNormalizedPathname();
    const urlRedirectRules = [
      {ru: '/$', en: '/en/$'},
      {ru: '/ru/', en: '/en/'},
      {ru: '/ru-lib/', en: '/en-lib/'},
      {ru: '/ru-bio/', en: '/en-bio/'},
      {ru: '/ru-stories/', en: '/en-stories/'},
    ]
    const urlRedirectRule = urlRedirectRules.find(rule=>{
      const urlLangPart = rule[currentLang];
      if(urlLangPart.endsWith('$')){
        return pathname === urlLangPart.slice(0,-1);
      }
      return pathname.startsWith(urlLangPart);
    })
    return urlRedirectRule;
  }
   
  function getReplaceParts(urlRedirectRule, currentLang, requestedLang){
    const currentLangPart = urlRedirectRule[currentLang].replace('$', '');
    const requestedLangPart = urlRedirectRule[requestedLang].replace('$', '');
    return [currentLangPart, requestedLangPart];
  }
  
  function getCurrentLang(){
    const pathname = getNormalizedPathname();
    const ruUrlDetectParts = ['/ru/', 'ru-lib/index.html', 'ru-bio/index.html', '/ru-stories/'];
    const urlContainRuPart = ruUrlDetectParts.some(part=>pathname.startsWith(part));
    return urlContainRuPart || pathname === '/' ? 'ru' : 'en';
  }
  
  function getCookie(name) {
    let matches = document.cookie.match(new RegExp(
      "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
    ));
    return matches ? decodeURIComponent(matches[1]) : undefined;
  }
})()
</script>

<meta name="yandex-verification" content="bff5672b20baa49c" />

  <!--TODO: STYLE DE JSP QUOI-->
<link rel="stylesheet" href="../cdn.jsdelivr.net/npm/locomotive-scroll%404.0.6/dist/locomotive-scroll.min.css"><link rel="stylesheet" href="../static.sakharov.space/prod/common.dab21f25.css">

  <!--TODO: NEIGE QUI TOMBE INTRO-->
  <link rel="preload" href="https://static.sakharov.space/prod/preloader.96f0e7e7.mp4" as="video">
<style>
  #preloader {
    position: fixed;
    display: flex;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    z-index: 1000
  }

  #preloader,
  body,
  html {
    background-color: #000
  }
</style>

<!-- TODO: NE PAS SUPPRIMER... -->
<style>
@media screen and (max-width: 479px) {
  .appearance__loadMessage {
    padding-left: 5vw !important;
  }
}
.menu-bar {
mix-blend-mode: exclusion;
}
.dg.ac{
  display: none !important;
}
body>div>canvas{
display: none !important;
}

/* Изменение для заголовка */
@media screen and (min-width: 767px)
{
    .lastSection {
        padding-bottom: 4.5rem !important;
    }

    .lastSection__line:first-child {
        margin-left: 1.2rem !important;
    }

    .lastSection__line:nth-child(2) {
        margin-left: 7.1rem !important;
    }

    .lastSection__line:nth-child(3) {
        margin-left: 3.34rem !important;
    }
    
}
</style>
  <script type="text/javascript">
    window.__WEBFLOW_CURRENCY_SETTINGS = {"currencyCode":"USD","$init":true,"symbol":"$","decimal":".","fractionDigits":2,"group":",","template":"{{wf {\"path\":\"symbol\",\"type\":\"PlainText\"} }} {{wf {\"path\":\"amount\",\"type\":\"CommercePrice\"} }} {{wf {\"path\":\"currencyCode\",\"type\":\"PlainText\"} }}","hideDecimalForWholeNumbers":false};
  </script>

</head>
  <body>
    <div class="w-embed w-script">
      <div id="preloader">

      </div>
      <div id="webglContainer">

      </div>
      <div class="appearance">
        <div class="appearance__progressBar">
          <div class="appearance__progress">

          </div>
          <div class="appearance__loadMessage">Loading
        </div>
      </div>
      <div class="appearance__bg">
        <!--TODO: NEIGE QUI TOMBE-->
        <video src="https://static.sakharov.space/prod/preloader.96f0e7e7.mp4" preload="" muted
        loop playsinline="" autoplay></video>
      </div>
      <div class="appearance__quoteWrapper">
        <!--TODO: CHANGER QUOTE D'INTRO-->
        <!--DESKTOP-->
        <div class="appearance__text" data-media="desktop">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My
        destiny was, in a sense, exceptional...<br> Not out of false modesty, but out of a desire to be accurate, I
        would say <br> that my fate was larger than my personality. <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I
        simply tried to keep up with my own destiny...
        </div>

        <!--MOBILE-->
        <div class="appearance__text" data-media="mobile">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My
        destiny was, in a sense, <br> exceptional... Not out of false modesty, <br> but out of a desire to be accurate,
        I <br> would say that my fate was larger than <br> my personality. <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I
        simply tried to keep up with <br> my own destiny...
        </div>

        <!--TODO: CHANGER SIGNATURE PLUS DATE A LA FIN DE QUOTE D'INTRO-->
        <img class="appearance__aftograph" src="https://static.sakharov.space/prod/aftograph.f057578b.svg" alt="">
    </div>

    <!--TODO: GARDER TEXTE DEBUT-->
    <div class="appearance__entry">
      <!--DESKTOP-->
      <p class="appearance__text" data-media="desktop">
        The website uses modern technologies so that the intro might not
        display <br> correctly on low-end PCs. You could use mouse to scroll and navigate.
      </p>
      <!--MOBILE-->
      <p class="appearance__text" data-media="mobile">
        The website uses modern <br> technologies so that the intro<br>
        might not display correctly on <br> low-end PCs. You could use mouse<br> to scroll and navigate.
      </p>

      <!--TODO: BUTTON-->
      <div class="appearance__entryBtnsWrapper">
        <!--TODO: ENTER DOESNT GO TO RIGHT PLACE-->
        <button class="appearance__entryBtn js-entry-btn">Enter the site
          <!--IMAGE DE FLECHE-->
          <img src="https://static.sakharov.space/prod/arrow-left-circled.b0619aad.svg" alt="">
        </button>

        <!--SKIP-->
        <button
          class="appearance__skipBtn">Skip intro
        </button>
      </div>
    </div>
  </div>

  <main class="scrollableContent" id="scrollableContent">
    <div id="content">

      <!--TODO: CHANGER ABOUT TEXT DE DEPART DESKTOP-->
      <div class="aboutTextContainer">
        <div class="html2canvas" id="aboutText" data-media="desktop">
          <div class="js-solidText">A great
            <span class="symbol">
              <img src="../static.sakharov.space/prod/1.547bc484.png" alt="">
            </span>humanist of the 20th century.
          </div>

          <div class="js-solidText">
            <span class="symbol">
              <img src="../static.sakharov.space/prod/2.f43e3871.png" alt="">
            </span>A national genius who embodied the
          </div>

          <div class="js-solidText">ideal of citizenship. An outstanding
          </div>

          <div class="js-solidText">scientist and author of
            <span class="symbol">
              <img src="../static.sakharov.space/prod/3.a69acd76.png" alt="">
            </span>works on the
          </div>

          <div class="js-solidText">physics of elementary particles, gravity
          </div>

          <div class="js-solidText">and&nbsp;
            <span class="symbol">
              <img src="../static.sakharov.space/prod/4.249f3a92.png" alt="">
            </span>&nbsp;cosmology. Inventor of the Soviet
          </div>

          <div class="js-solidText">hydrogen
            <span class="symbol">
              <img src="../static.sakharov.space/prod/5.d896befb.png" alt="">
            </span>bomb. A supporter of peaceful
          </div>

          <div class="js-solidText">coexistence and an end to
            <span class="symbol">
              <img src="../static.sakharov.space/prod/6.0efdcfe8.png" alt="">
            </span>nuclear
          </div>

          <div class="js-solidText">testing. A distinguished public figure,
          </div>

          <div class="js-solidText">
            <span class="symbol">
              <img src="../static.sakharov.space/prod/7.304a662e.png" alt="">
            </span>human rights activist and Nobel
            <span class="symbol">
              <img src="../static.sakharov.space/prod/8.0e8f52da.png" alt="">
            </span>
          </div>

          <div class="js-solidText">Peace Prize winner.
          </div>
        </div>

        <!--TODO: CHANGER ABOUT TEXT DE DEPART MOBILE-->
        <div class="html2canvas" id="aboutText" data-media="mobile">
          <div class="js-solidText">A great
            <span class="symbol">
              <img src="../static.sakharov.space/prod/1.547bc484.png" alt="">
            </span>humanist of the 20th
          </div>

          <div class="js-solidText">century.
            <span class="symbol">
              <img src="../static.sakharov.space/prod/2.f43e3871.png" alt="">
            </span>A national genius
          </div>

          <div class="js-solidText">who embodied the ideal
          </div>

          <div class="js-solidText">of citizenship. An outstanding
          </div>

          <div class="js-solidText">scientist and author of
            <span class="symbol">
              <img src="../static.sakharov.space/prod/3.a69acd76.png" alt="">
            </span>works
          </div>

          <div class="js-solidText">on the physics of elementary
          </div>

          <div class="js-solidText">particles, gravity and&nbsp;
            <span class="symbol">
              <img src="../static.sakharov.space/prod/4.249f3a92.png" alt="">
            </span>&nbsp;cosmology. Inventor
          </div>

          <div class="js-solidText">of the Soviet hydrogen
            <span class="symbol">
              <img src="../static.sakharov.space/prod/5.d896befb.png" alt="">
            </span>bomb.
          </div>

          <div class="js-solidText">A supporter of peaceful
          </div>

          <div class="js-solidText">coexistence and an end to
          </div>

          <div class="js-solidText">
            <span class="symbol">
              <img src="../static.sakharov.space/prod/6.0efdcfe8.png" alt="">
            </span>nuclear testing. A
          </div>

          <div class="js-solidText">distinguished public figure,
          </div>

          <div class="js-solidText">human rights activist and
          </div>

          <div class="js-solidText">Nobel
            <span class="symbol">
              <img src="../static.sakharov.space/prod/8.0e8f52da.png" alt="">
            </span> Peace Prize winner.
          </div>
        </div>
      </div>
    </div>

    <div id="blindStub">

    </div>
  </main>

  <div id="fixedContentContainer">
    <div class="firstScreen" id="firstSection">
      <div class="firstScreen__content">
        <div class="html2canvas" data-fixed="">

          <!--TODO: CHANGER FIRST SCREEN TITLE-->
          <div class="firstScreen__title">
            <div>
              <div class="h1 js-solidText">Andrei</div>
            </div>
            <div>
              <div class="h1 js-solidText">Sakharov/div>
            </div>
          </div>

            <!--TODO: CHANGER FIRST SCREEN SUBTITLE-->
          <div class="firstScreen__subtitle">
            <div class="js-solidText">Andrei Sakharov</div>
          </div>
        </div>
      </div>

        <!--TODO: SCROLL-->
      <div class="firstScreen__scrollDownWrapper scrollDown" id="firstScreenScrollDown">
        <p class="firstScreen__scrollDown scrollDown__content" id="firstScreenScrollDownContent">scroll</p>
      </div>
    </div>

      <!--TODO: CHANGER FIRST TITLE + DATES-->
    <div class="lastSection" id="lastSection">
      <div class="lastSection__contentWrapper">
        <div class="html2canvas" data-fixed="">
          <div class="lastSection__content">
            <div class="h1 js-solidText lastSection__line">THE LIFE OF
            </div>
            <div class="lastSection__line">
              <span class="js-solidText lastSection__date" data-media="desktop">1921
              </span>
              <div class="h1 js-solidText">ANDREI
              </div>
              <span class="js-solidText lastSection__date" data-media="desktop">1989
              </span>
            </div>
            <div class="h1 js-solidText lastSection__line">SAKHAROV</div>
          </div>
        </div>
      </div>
    </div>

      <!--TODO: DOSSIER QUI NEXISTE PAS-->
    <div class="particles">
      <video data-src="../assets/particles.mp4" muted loop>

      </video>
    </div>
  </div>


    <!--TODO: ENLEVER COINS-->
  <div class="coins" id="coins">
    <a href="https://www.sakharov.space/anniversary">
      <div class="coins__images">
        <img src="../static.sakharov.space/prod/coin-2.2b5b533c.png" alt="">
        <img src="../static.sakharov.space/prod/coin-1.415372bb.png" alt="">
      </div>
    </a>
  </div>

  <p class="coinsTitle" data-media="desktop"> The Andrei Sakharov<br>Centenary
  </p>

    <!--TODO: NEXT PAGE INDICATOR: CHANGER LES CHAPITRE POUR DES TITRES (EX. MYTHES ET LEGENDES)-->
  <div class="nextPageIndicator">
    <div class="scrollDown" id="lastScreenDiscover">
      <p class="scrollDown__content" id="lastScreenDiscoverContent">Chapter 1</p>
    </div>
  </div>

  <div id="blind">

  </div>
    <div id="fixedFullScreenElement">

    </div>
    <!--TODO: JAVASCRIPT POUR X REASON -->
    <script src="../static.sakharov.space/prod/src.64f8736e.js">

    </script>
  </div>

      <div class="menu">
        <nav class="menu-bar">
          <a href="en.html" aria-current="page" class="menu-bar__logo w-inline-block w--current">
            <div class="logo-menu-container">
              <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af7e1a0658ac_menu-bar__logo-desktop-white.svg" loading="lazy" alt="" class="logo-menu-light"/>
              <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af68ff06586c_menu-bar__logo-desktop-black.svg" loading="lazy" alt="" class="logo-menu"/>
            </div>

            <div class="logo-mobile-container">
              <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5aff9e6065807_mob-logo-black.svg" loading="lazy" alt="" class="logo-menu-mobile-black"/>
              <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af47ed065802_mob-logo-white.svg" loading="lazy" alt="" class="logo-menu-mobile-white"/>
            </div>
          </a>
          <div class="menu-bar__bt">

          </div>
          <div id="bgImgButtonEn" data-w-id="9f488bf5-2e29-19be-049f-29ba33f46c26" class="menu-area-bt">

          </div>
          <div class="menu-open__bar-buttom-block">
            <div data-lang="ru" class="bt-lang js-switch-lang">
              <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af8ad406585c_menu-lang-ru_white.svg" loading="lazy" alt="" class="ic-lang-white"/>
              <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af090206586b_menu-lang-ru_black.svg" loading="lazy" alt="" class="ic-lang-black"/>
            </div>
            <div class="bt-sound">
              <div class="bt-sound-on">
                <div class="ic-sound-white">
                  <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af5915065878_menu-ic-sound_white.svg" loading="lazy" alt="" class="ic-sound"/>
                  <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af236906585f_menu-ic-sound-on_white.svg" loading="lazy" alt="" class="ic-sound-on"/>
                </div>

                <div class="ic-sound-black">
                  <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af164c06585e_menu-ic-sound_black.svg" loading="lazy" alt="" class="ic-sound"/>
                  <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af841e065863_menu-ic-sound-on_black.svg" loading="lazy" alt="" class="ic-sound-on"/>
                </div>
              </div>

              <div class="bt-sound-off">
                <div class="ic-sound-white">
                  <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af5915065878_menu-ic-sound_white.svg" loading="lazy" alt="" class="ic-sound"/>
                </div>
                <div class="ic-sound-black">
                  <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af164c06585e_menu-ic-sound_black.svg" loading="lazy" alt="" class="ic-sound"/>
                </div>
              </div>
            </div>
          </div>
        </nav>

        <nav class="menu-open">
          <div class="menu-bar-open-inner">
            <div id="bgImgButtonReturnEn" data-w-id="9f488bf5-2e29-19be-049f-29ba33f46c29" class="menu-area-bt">

            </div>

            <a href="index.html" class="menu-open-bar-logo w-inline-block">
              <div class="logo-menu-container">
                <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af7e1a0658ac_menu-bar__logo-desktop-white.svg" loading="lazy" alt="" class="logo-menu-open-menu"/>
              </div>
            </a>

            <div class="menu-open__bar-bt">
              <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af16ca06565e_menu-bt-open.svg" loading="lazy" alt="" class="ic-menu-open"/>
            </div>

            <div class="menu-open__bar-buttom-block">
              <div data-lang="ru" class="bt-lang js-switch-lang">
                <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af8ad406585c_menu-lang-ru_white.svg" loading="lazy" alt="" class="ic-lang-menu"/>
              </div>

              <div class="bt-sound">
                <div data-w-id="50967a2d-2f5c-2c30-62d9-12bc7fc3aa4b" class="bt-sound-on">
                  <div class="ic-sound-menu">
                    <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af5915065878_menu-ic-sound_white.svg" loading="lazy" alt="" class="ic-sound"/>
                    <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af236906585f_menu-ic-sound-on_white.svg" loading="lazy" alt="" class="ic-sound-on"/>
                  </div>
                </div>

                <div class="bt-sound-off">
                  <div class="ic-sound-menu">
                    <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af5915065878_menu-ic-sound_white.svg" loading="lazy" alt="" class="ic-sound"/>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--TODO: CHANGER LA QUOTE ANNIVERSAIRE -->
          <div class="menu-open__bt-section">
            <div class="menu-open__h-blocks">
              <div class="menu-open__h-block-1">
                <a id="bgImgContainer1En" href="en/chapter-1.html" class="menu-link-h-item-1 w-inline-block">
                  <div class="menu_h1 light">life
                  </div>
                </a>
              </div>

              <div class="menu-open__h-block-2 en">
                <a id="bgImgContainer2En" href="en/anniversary" class="menu-link-h-item-2 en w-inline-block">
                  <div class="menu_h1 light">100 years
                  </div>
                </a>

                <div class="menu-open__h-block-3-container-text">
                  <div class="menu_p-normal">Events for the Andrei Sakharov Centenary<br/>Around the World<br/>
                  </div>
                </div>
              </div>

              <div class="menu-open__h-block-3">
                <a id="bgImgContainer3En" href="en/library.html" class="menu-link-h-item-3 w-inline-block">
                  <div class="menu_h1 light">Library
                  </div>
                </a>

                <div class="non-active-hover-card en">
                  <div class="p-normal light">soon
                  </div>
                </div>
              </div>
            </div>

            <div class="menu-open__elements-block-1">
              <div class="menu-open__elements-element-1">
                <a href="https://youtu.be/kGvBTUhccCA" target="_blank" class="w-inline-block">
                  <div data-w-id="9f488bf5-2e29-19be-049f-29ba33f46c4e" class="menu-open__elements-bl-1-container-video">
                    <img src="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af42ac0656a3_play-ic-video.svg" loading="lazy" alt="" class="menu-open__video-ic"/>
                    <img src="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af63e206566c_video-placeholder-photo.jpg" loading="lazy" alt="" class="menu-open__video-placeholder"/>
                    <img src="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af027d0656a4_video-placeholder-opacity-screen.png" loading="lazy" alt="" class="menu-open__video-fade-screen"/>
                  </div>
                </a>
              </div>

              <!--TODO: CHANGE BIG LINES OF MENU-->
              <div class="menu-open__elements-element-2">
                <div class="menu-open__bl-2-elements-bt-list">
                  <a href="#" class="elements-bt-list-item-1 non-active w-inline-block">
                    <div class="menu_p-normal light mobile-gray non-active">Complete Biography
                    </div>
                  </a>

                  <a href="#" class="elements-bt-list-item-2 non-active w-inline-block">
                    <div class="menu_p-normal light mobile-gray non-active">Longreads
                    </div>
                  </a>

                  <a href="en/about" class="elements-bt-list-item-3 w-inline-block">
                    <div class="menu_p-normal light mobile-gray">About the Project
                    </div>
                  </a>
                </div>
              </div>
            </div>

            <!--TODO: CHANGE FIRST ELEM CONTENT-->
            <div class="menu-open__elements-block-2">
              <div class="menu-open__elements-element-4">
                <div class="menu-open__elements-bl-2-item-1 no-link">
                  <div class="menu_p-normal gray quasi-menu-p-x-smalll">The Sakharov Center is entered by the Ministry of Justice into the registry, stipulated under Art. 13.1, par. 10 of the Federal Law on Non-Commercial Organizations
                  </div>
                </div>
              </div>

              <div class="menu-open__elements-element-3">
                <a href="https://redis.agency/" target="_blank" class="menu-open__elements-bl-2-item-1 w-inline-block">
                  <div class="menu_p-normal gray">Made by Redis
                  </div>
                </a>
              </div>

              <div class="menu-open__elements-line-mob">

              </div>
            </div>

            <div class="menu-open__elements-line">

            </div>
          </div>

          <div class="menu-open__bg">
            <img src="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af456d0656dd_bg-open-menu-2-mobile.png" loading="lazy" sizes="100vw" srcset="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af456d0656dd_bg-open-menu-2-mobile-p-500.png 500w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af456d0656dd_bg-open-menu-2-mobile.png 750w" alt="" class="menu-open-bg-2-mobile"/>
            <img src="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af1c150656c9_bg-open-menu-black-mask.png" loading="lazy" sizes="100vw" srcset="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af1c150656c9_bg-open-menu-black-mask-p-500.png 500w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af1c150656c9_bg-open-menu-black-mask-p-800.png 800w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af1c150656c9_bg-open-menu-black-mask-p-1080.png 1080w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af1c150656c9_bg-open-menu-black-mask-p-1600.png 1600w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af1c150656c9_bg-open-menu-black-mask.png 1875w" alt="" class="menu-open-bg-black-mask"/>
            <img src="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af55ac0656cc_bg-open-menu-1.jpg" loading="lazy" sizes="100vw" srcset="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af55ac0656cc_bg-open-menu-1-p-500.jpeg 500w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af55ac0656cc_bg-open-menu-1-p-1080.jpeg 1080w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5af55ac0656cc_bg-open-menu-1.jpg 1441w" alt="" class="menu-open-bg-1"/>
            <img src="../assets.website-files.com/617936a2cad5af105e065401/617936a2cad5afbb820656d7_bg-open-menu-2.png" loading="lazy" sizes="100vw" srcset="https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5afbb820656d7_bg-open-menu-2-p-500.png 500w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5afbb820656d7_bg-open-menu-2-p-800.png 800w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5afbb820656d7_bg-open-menu-2-p-1080.png 1080w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5afbb820656d7_bg-open-menu-2-p-1600.png 1600w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5afbb820656d7_bg-open-menu-2-p-2000.png 2000w, https://assets.website-files.com/617936a2cad5af105e065401/617936a2cad5afbb820656d7_bg-open-menu-2.png 2880w" alt="" class="menu-open-bg-2"/>
          </div>
        </nav>

        <div data-w-id="9f488bf5-2e29-19be-049f-29ba33f46c6c" class="menu-bt-mobile">

        </div>
      </div>

      <script src="../d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8e0fc.js?site=617936a2cad5af105e065401" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">

      </script>

      <script src="../assets.website-files.com/617936a2cad5af105e065401/js/webflow.d6dda531a.js" type="text/javascript">

      </script>

      <!--[if lte IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js">

      </script>
      <![endif]-->
      <!--TODO: CHANGER MUSIQUE-->
      <audio loop class='audioEl'>
        <source src="https://static.sakharov.space/sound.aac" type="audio/aac">
        <source src="https://static.sakharov.space/sound.mp3" type="audio/mpeg">
      </audio>

<script src="../unpkg.com/gsap%403.11.3/dist/gsap.min.js"></script>
<script src="../cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/ScrollToPlugin.min.js"></script>
<script>
  gsap.registerPlugin(ScrollToPlugin)
</script>

<script src="../cdn.jsdelivr.net/npm/resize-sensor%400.0.6/ResizeSensor.min.js"></script>
<script src="../cdn.jsdelivr.net/npm/locomotive-scroll%404.0.6/dist/locomotive-scroll.min.js"></script>
<script src="https://unpkg.com/butter-slider"></script>

<script>
  //Музыка
(()=>{
    const audioEl = document.querySelector('.audioEl');
    const btnSoundContainers = document.querySelectorAll('.bt-sound');
    const entryBtn = document.querySelector('.js-entry-btn');
    const btnsOff = [...document.querySelectorAll('.bt-sound-off')]
    const btnsOn = [...document.querySelectorAll('.bt-sound-on')]
    
    if(disabledAudio()){
      audioEl.remove();
      btnSoundContainers.forEach(c=>{
        c.style.display = 'none'
        c.style.visibility = 'hidden'
        c.style.position='absolute'
        c.style.width='0'
        c.style.height='0'
        c.style.overflow = 'hidden'
      })
      return
    }
    let killTabBlurAnimation;
    let timeBeforeLeaveTab = 0;
    
    setInitialState()
    addTabVisibilityListener();
    handleVisibilityChange();
    addBtnsListeners();
    addUnloadListener();
    addLeaveTabListener();
      
    
    
    function setInitialState(){
      const isPaused = !!localStorage.getItem('audioPaused');
      if(isPaused){
        pause(true)
      } else {
        audioEl.currentTime = sessionStorage.getItem('audioTime') || 0; 
        play(2)
      }
    }
    function addTabVisibilityListener(){
      let visibilityChange = 'visibilitychange';
      if (typeof document.msHidden !== "undefined") {
        visibilityChange = "msvisibilitychange";
      } else if (typeof document.webkitHidden !== "undefined") {
        visibilityChange = "webkitvisibilitychange";
      }
      document.addEventListener(visibilityChange, handleVisibilityChange);
    }
    function handleVisibilityChange() {
      if (windowIsHidden()){
        onTabBlur()
      } else{
        onTabFocus()
      }  
    }  
    function onTabBlur(){
      const isPlayed = !localStorage.getItem('audioPaused')
      if(isPlayed){
        killTabBlurAnimation = animateByInterval((progress)=>{
          audioEl.volume = 1 - progress;
          timeBeforeLeaveTab = audioEl.currentTime;
        }, ()=>{}, 0.5)
      }
    }
    function onTabFocus(){
      if(killTabBlurAnimation){
        killTabBlurAnimation()
      }
      const isPaused = !!localStorage.getItem('audioPaused')
      audioEl.currentTime = timeBeforeLeaveTab
      if(isPaused){  
        pause(true) 
      } else{
        play()
      }
    }
    function addBtnsListeners(){
      btnsOn.forEach((btn)=>{
        btn.addEventListener('click', ()=>pause())
      })
      btnsOff.forEach((btn)=>{
        btn.addEventListener('click', ()=>play())
      })
      if(entryBtn){
        entryBtn.addEventListener('click', play);
      }
    }
    function addUnloadListener(){
      window.addEventListener('beforeunload', (event) => {
        sessionStorage.setItem('audioTime', audioEl.currentTime);
      })
    }
    function addLeaveTabListener(){
      window.addEventListener('popstate', (event)=>{
        const isPaused = !!localStorage.getItem('audioPaused')
        if(!isPaused && audioEl.volume != 1){
          gsap.killTweensOf(audioEl);
          gsap.to(audioEl, {volume: 1, duration: 1.5})
        }
      })
    }
    function pause(immediately, saveGlobal=true){
      if(saveGlobal){
        localStorage.setItem('audioPaused', 'true')
      }
      gsap.killTweensOf(audioEl);
      btnsOn.forEach(btn=>btn.style.display='none')
      btnsOff.forEach(btn=>btn.style.display='block')
      if(immediately){
         audioEl.volume = 0;
      } else{
        gsap.to(audioEl, {volume: 0, duration: 1.5, onComplete:()=>audioEl.pause()})
      }
      
    }
    function play(appearDuration=1.5, saveGlobal=true){
      if(saveGlobal){
        localStorage.removeItem('audioPaused')
      }
      gsap.killTweensOf(audioEl);
      btnsOn.forEach(btn=>btn.style.display='block')
      btnsOff.forEach(btn=>btn.style.display='none')
      audioEl.volume = 0;
      gsap.to(audioEl, {volume: 1, duration: appearDuration, ease: 'none'})
      audioEl.play().catch(err=>{
        console.log('error during try to play: ', err)
        pause();
      });
    }
    function setVolume(volume){
      audioEl.volume = volume;
    }
    function windowIsHidden(){
      let hiddenProp = 'hidden'
      if (typeof document.msHidden !== "undefined") {
        hiddenProp = "msHidden";
      } else if (typeof document.webkitHidden !== "undefined") {
        hiddenProp = "webkitHidden";
      }
      return document[hiddenProp]
    }
    function animateByInterval(onUpdate=()=>{}, onComplete=()=>{}, duration=1){
      let start = Date.now(); // remember start time
    
      let timer = setInterval(function() {
        // how much time passed from the start?
        let timePassed = Date.now() - start;
    
        if (timePassed >= duration * 1000) {
          clearInterval(timer); // finish the animation after 2 seconds
          onUpdate(1)
          onComplete()
          return;
        }
        const progress = timePassed / (duration * 1000);
        onUpdate(progress);
      }, 20);
      return ()=>{
        clearInterval(timer)
      }
    }   
    function disabledAudio(){
      const mutedPages = ['/ru/library','/en/library', '/bio','/stories','/lib']
      const pathname = window.location.pathname.replace(/(.*)\/$/, '$1');
      return mutedPages.some(p=>pathname.startsWith(p));
    }
      
    window.soundController = {
      play,
      pause,
      setVolume
    }
})();

</script>

<script>
  // Переключение языка по клику 
  // обрабатывает клики и редиректит на соответствующие
  // так же добавляет для кнопок артрибут disabled='disabled' если языки
  // совпадает(можно прописать стили)
  (()=>{
    const pathname = getNormalizedPathname();
    const langBtns = [...document.querySelectorAll('.js-switch-lang')];
    const currentLang = getCurrentLang()
    langBtns.forEach(btn=>{
      const btnLang = btn.dataset.lang;
      if(btnLang === currentLang){
        btn.setAttribute('disabled', 'disabled')
        btn.disabled = true;
      }
      btn.addEventListener('click', (e)=>{
        e.preventDefault();
        if(btn.disabled) return;
        const nextLangLocation = getSwitchedLangPath(currentLang, btnLang);
        if(nextLangLocation){   
          setCookie('selected-lang', btnLang, {'max-age': 365 * 24 * 60 * 60})
          window.location.href = nextLangLocation;
        }
      })
    })
    
    function getNormalizedPathname(){
      const {pathname} = window.location;
      return pathname.endsWith('index.html') ? pathname : pathname+'/';
    }
    
    function getSwitchedLangPath(currentLang, requestedLang){
      const urlRedirectRule = getUrlRedirectRule(currentLang, requestedLang);
      
      if(!urlRedirectRule) return;
      
      const [currentLangPart, requestedLangPart] = getReplaceParts(urlRedirectRule, currentLang, requestedLang);
  
      const urlReplaceRegexp = new RegExp(`^${currentLangPart}`);
      
      const pathname = getNormalizedPathname();
  
      return pathname.replace(urlReplaceRegexp, requestedLangPart)
    }
    
    function getUrlRedirectRule(currentLang, requestedLang){
      const pathname = getNormalizedPathname();
      const urlRedirectRules = [
        {ru: '/$', en: '/en/$'},
        {ru: '/ru/', en: '/en/'},
        {ru: '/ru-lib/', en: '/en-lib/'},
        {ru: '/ru-bio/', en: '/en-bio/'},
        {ru: '/ru-stories/', en: '/en-stories/'},
      ]
      const urlRedirectRule = urlRedirectRules.find(rule=>{
        const urlLangPart = rule[currentLang];
        if(urlLangPart.endsWith('$')){
          return pathname === urlLangPart.slice(0,-1);
        }
        return pathname.startsWith(urlLangPart);
      })
      return urlRedirectRule;
    }
     
    function getReplaceParts(urlRedirectRule, currentLang, requestedLang){
      const currentLangPart = urlRedirectRule[currentLang].replace('$', '');
      const requestedLangPart = urlRedirectRule[requestedLang].replace('$', '');
      return [currentLangPart, requestedLangPart];
    }
    
    function getCurrentLang(){
      const pathname = getNormalizedPathname();
      const ruUrlDetectParts = ['/ru/', 'ru-lib/index.html', 'ru-bio/index.html', '/ru-stories/'];
      const urlContainRuPart = ruUrlDetectParts.some(part=>pathname.startsWith(part));
      return urlContainRuPart || pathname === '/' ? 'ru' : 'en';
    }
    
    function getCookie(name) {
      let matches = document.cookie.match(new RegExp(
        "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
      ));
      return matches ? decodeURIComponent(matches[1]) : undefined;
    }
  
    function setCookie(name, value, options = {}) {
      options = {
        path: '/',
        ...options
      };
  
      if (options.expires instanceof Date) {
        options.expires = options.expires.toUTCString();
      }
  
      let updatedCookie = encodeURIComponent(name) + "=" + encodeURIComponent(value);
  
      for (let optionKey in options) {
        updatedCookie += "; " + optionKey;
        let optionValue = options[optionKey];
        if (optionValue !== true) {
          updatedCookie += "=" + optionValue;
        }
      }
  
      document.cookie = updatedCookie;
    }
  
    function deleteCookie(name) {
      setCookie(name, "", {
        'max-age': -1
      })
    }
  })()
</script>

<script>
  // Анимация открытия/закрытия меню RU
  (()=>{
    if(window.screen.width <= 479) {
      return
    }
    // Открытие
    function moveBgImg() {
      setTimeout(function () {
        bgImgContainer1.style.backgroundPosition="0% 70%"; 
        bgImgContainer2.style.backgroundPosition="0% 70%"; 
        bgImgContainer3.style.backgroundPosition="0% 70%"; 
      }, 500)
    };
    bgImgButton.addEventListener("click", moveBgImg);
     // Закрытие
    function moveBgImgReturn() {
      setTimeout(function () {
        bgImgContainer1.style.backgroundPosition="0% 0%"; 
        bgImgContainer2.style.backgroundPosition="0% 0%"; 
        bgImgContainer3.style.backgroundPosition="0% 0%"; 
      }, 0)
    };
    bgImgButtonReturn.addEventListener("click", moveBgImgReturn)
  })()
</script>

<script>
  // Анимация открытия/закрытия меню EN
  (()=>{
    if(window.screen.width <= 479) {
      return
    }
    // Открытие
    function moveBgImgEn() {
      setTimeout(function () {
        bgImgContainer1En.style.backgroundPosition="0% 70%"; 
        bgImgContainer2En.style.backgroundPosition="0% 70%"; 
        bgImgContainer3En.style.backgroundPosition="0% 70%"; 
      }, 500)
    };
    bgImgButtonEn.addEventListener("click", moveBgImgEn);
     // Закрытие
    function moveBgImgReturnEn() {
      setTimeout(function () {
        bgImgContainer1En.style.backgroundPosition="0% 0%"; 
        bgImgContainer2En.style.backgroundPosition="0% 0%"; 
        bgImgContainer3En.style.backgroundPosition="0% 0%"; 
      }, 0)
    };
    bgImgButtonReturnEn.addEventListener("click", moveBgImgReturnEn)
  })()
</script>

<script>
// Запуск слайдера
(()=>{  
    try{
      butterSlider.autoInit()
    } catch(err){
      console.log(err)
    }
})()
</script>

<script>
// Меняем подгрузку картинок  
(()=>{
    window.addEventListener('load', ()=>{
        const imagesWithLazyLoad = [...document.querySelectorAll("[loading='auto'], [loading='lazy']")]
        imagesWithLazyLoad.forEach(el=>{
          el.setAttribute('loading', 'eager')
        })
    })
})()
</script>

<script>
// Плавный скролл
(()=>{  
    const mediaQuery = window.matchMedia('(min-width: 480px)')
    if(mediaQuery.matches && !document.body.dataset.disableSmoothScroll && !onlyNativeScroll()){
      initLocomotiveScroll();
    }
    mediaQuery.addListener(()=>window.location.reload());
    function initLocomotiveScroll(){  
      const scrollWrapper = document.querySelector('.scroll-wrapper');
      const scrollView = document.querySelector('.scroll-view');
      console.log('init smooth scroll')
      window.addEventListener('scroll', (e)=>{
        console.log('scroll wrapper scroll', window.scrollY)
      })
      const scroll = new LocomotiveScroll({
        el: scrollWrapper,
        smooth: true,
        touchMultiplier: 6.4,
        tablet: {
            smooth: true,
        },    
        smartphone: {
            smooth: true,
        },
        // scrollFromAnywhere:true
      });
    window.locomotiveScroll = scroll
      if(is_touch_enabled()){    
        scroll.on('scroll', (args) => window.scrollTo(0,args.scroll.y));
        scrollView.classList.add('-touchable');
      } else{
        console.log('touch event not found')
      }
    
    addResizeHandler()
    addLocomotiveGSAPScrollAnimations()
    addScrollTriggerConnect()

     
    function addLocomotiveGSAPScrollAnimations(){
      const customAnimations = {
        'scale': el => TweenMax.to(el, .3, {
          scale: 1.5
        })
      }
      const activeAnimations = {};
      const animationsNames = Object.keys(customAnimations);
      const elementsWithId = document.querySelectorAll('[data-scroll-id]');
      console.log({elementsWithId})
      const createAnimationForId = (element, animationName) => {
        const tween = customAnimations[animationName](element);
        tween.pause();
        if (!activeAnimations[element]) {
          activeAnimations[element] = {};
        }
        activeAnimations[element][animationName] = tween;
      }
      elementsWithId.forEach(element => {
        const animationsIds = element.dataset.scrollId
          .split(',')
          .map(e => e.trim())
          .filter(id => animationsNames.includes(id));
        animationsIds.forEach(id => createAnimationForId(element, id));
      });
    
      scroll.on('scroll', (args) => {
        animationsNames.forEach(animationName => {
          if (typeof args.currentElements[animationName] === 'object') {
            const {
              el,
              progress
            } = args.currentElements[animationName];
            const elementAnimations = activeAnimations[el]
            const tween = elementAnimations ? elementAnimations[animationName] : false;
            if (tween) {
              tween.totalProgress(progress);
            }
          }
        })
      })
    }

    function addScrollTriggerConnect(){
      if(!window['gsap'] || !window['ScrollTrigger']){
        return;
      }

      gsap.registerPlugin(ScrollTrigger);

      scroll.on("scroll", () => {
        ScrollTrigger.update()
      });


      ScrollTrigger.scrollerProxy('.scroll-wrapper', {
        scrollTop(value) {
          return arguments.length ? scroll.scrollTo(value, 0, 0) : scroll.scroll.instance.scroll.y;
        },
        getBoundingClientRect() {
          return {top: 0, left: 0, width: window.innerWidth, height: window.innerHeight};
        },
        pinType: 'transform'
      });
      
      ScrollTrigger.addEventListener("refresh", () => scroll.update());
      ScrollTrigger.refresh();
    }

    function addResizeHandler(){
      new ResizeSensor(scrollWrapper, onResizeContent);
      setTimeout(()=>onResizeContent,300)
      window.addEventListener('load', onResizeContent);
    }
    
    function onResizeContent(){
      scroll.update();
      if(is_touch_enabled()){    
        document.body.style.height = scroll.el.offsetHeight + 'px';
      }
    }

      function is_touch_enabled() { 
            return ( 'ontouchstart' in window ) ||  
                   ( navigator.maxTouchPoints > 0 ) || 
                   ( navigator.msMaxTouchPoints > 0 ); 
        } 
    }
  function onlyNativeScroll(){
      const pages = ['/ru/library','/en/library', '/bio','/stories','/lib','/search']
      const pathname = window.location.pathname.replace(/(.*)\/$/, '$1');
      return pages.some(p=>pathname.startsWith(p));
  }
})()
</script>

<script>
// Переход на другую страницу
(()=>{
    const target = document.querySelector('#linkPage');
    if(!target) return;
    const progress = {val: 0}
    const tl = gsap.to(progress, {
      val: 1,
      duration: 1.5,
      paused: true,
      onUpdate: ()=>{
        if(window.soundController){
          window.soundController.setVolume(1 - progress.val)
        }
      },
      onComplete: () => {
        location.href = target.dataset.href;
        /*setTimeout(()=>{
          if(window.locomotiveScroll){
            window.locomotiveScroll.scrollTo(0)
          } else{
            window.scrollTo(0, 0)
          }
        }, 100)*/
      }
    });
    const callback = function(entries, observer) {
      entries.forEach(entry => {
          if (entry.intersectionRatio > 0) {
            tl.play()
          } else {
            tl.reverse();
          }
        });
    };
    const observer = new IntersectionObserver(callback);
    observer.observe(target);
})()
</script>

<script>
// Останавливаем видео после выхода из поп-апа
(()=>{
window.activateModals = activateModals;

function activateModals(modals){
  const onReady = ()=>createModalsEls(modals)
  loadScript(onReady)
}

function loadScript(onReady){
  const tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  document.body.appendChild(tag)
  window.onYouTubePlayerAPIReady = onReady
}

function createModalsEls(modals){
  modals.forEach(modal=>createVideoModal(modal.placeholder, modal.videoEl))
}

function createVideoModal(playBtnSelector, videoElSelector){
    const playBtn = document.querySelector(playBtnSelector)
    const videoEl = document.querySelector(videoElSelector)
    if(!videoEl.src.includes('enablejsapi=1')){
      const conectSymbol = videoEl.src.includes('?') ? '&amp;' : '?';
      videoEl.src += `${conectSymbol}enablejsapi=1`
    }
    const player = new YT.Player(videoEl);
    function open(){
      player.stopVideo()
      player.playVideo()
      setTimeout(createCloseListener)
    }
    function close(){
        player.stopVideo()
    }
    function createCloseListener(){
        $(document).one('click', (e) => {
          if (!$(e.target).closest(videoEl).length) close()
        });
    }
    
    playBtn.addEventListener('click', open)
}

loadScript();
})()
</script>
</body>
<!-- Mirrored from sakharov.webflow.io/en by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Nov 2022 15:38:40 GMT -->
</html>